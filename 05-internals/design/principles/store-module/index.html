
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../../../../assets/images/dasch-favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.4">
    
    
      
        <title>Store Module - Knora Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.358818c7.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.f0267088.min.css">
        
          
          
          <meta name="theme-color" content="#7e56c2">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../../assets/style/theme.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#store-module" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../../../.." title="Knora Documentation" class="md-header-nav__button md-logo" aria-label="Knora Documentation">
      
  <img src="../../../../assets/images/dasch-icon-white.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Knora Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Store Module
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../01-introduction/" class="md-tabs__link">
          Introduction
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../02-knora-ontologies/" class="md-tabs__link">
          Knora Ontologies
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../03-apis/" class="md-tabs__link">
          APIs
        </a>
      
    </li>
  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../04-publishing-deployment/" class="md-tabs__link">
          Publishing and Deployment
        </a>
      
    </li>
  

      
        
  
  
    
    
  
  
    
    
  
  
    <li class="md-tabs__item">
      
        <a href="../" class="md-tabs__link md-tabs__link--active">
          Knora Internals
        </a>
      
    </li>
  

  

  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../06-salsah/" class="md-tabs__link">
          Salsah
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../07-sipi/" class="md-tabs__link">
          SIPI
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../08-lucene/" class="md-tabs__link">
          Lucene
        </a>
      
    </li>
  

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../../../00-release-notes/" class="md-tabs__link">
          Release Notes
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Knora Documentation" class="md-nav__button md-logo" aria-label="Knora Documentation">
      
  <img src="../../../../assets/images/dasch-icon-white.svg" alt="logo">

    </a>
    Knora Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Introduction
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Introduction" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../01-introduction/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../01-introduction/what-is-knora/" class="md-nav__link">
      What is Knora?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../01-introduction/data-formats/" class="md-nav__link">
      Data Formats in Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../01-introduction/standoff-rdf/" class="md-nav__link">
      Standoff/RDF Text Markup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../01-introduction/example-project/" class="md-nav__link">
      An Example Project
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Knora Ontologies
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Knora Ontologies" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Knora Ontologies
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../02-knora-ontologies/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../02-knora-ontologies/introduction/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../02-knora-ontologies/knora-base/" class="md-nav__link">
      The Knora Base Ontology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../02-knora-ontologies/salsah-gui/" class="md-nav__link">
      The SALSAH GUI Ontology
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="APIs" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1" type="checkbox" id="nav-4-1">
    
    <label class="md-nav__link" for="nav-4-1">
      The Knora APIs
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="The Knora APIs" data-md-level="2">
      <label class="md-nav__title" for="nav-4-1">
        <span class="md-nav__icon md-icon"></span>
        The Knora APIs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2">
    
    <label class="md-nav__link" for="nav-4-2">
      API V1
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API V1" data-md-level="2">
      <label class="md-nav__title" for="nav-4-2">
        <span class="md-nav__icon md-icon"></span>
        API V1
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/introduction/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/authentication/" class="md-nav__link">
      Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/reading-and-searching-resources/" class="md-nav__link">
      Reading and Searching Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/xml-to-standoff-mapping/" class="md-nav__link">
      XML to Standoff Mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/adding-resources/" class="md-nav__link">
      Adding Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/reading-and-searching-resources/" class="md-nav__link">
      Reading and Searching Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/reading-values/" class="md-nav__link">
      Reading Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/adding-values/" class="md-nav__link">
      Adding Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/changing-values/" class="md-nav__link">
      Changing Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v1/delete-resources-and-values/" class="md-nav__link">
      Deleting Resources and Values
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-3" type="checkbox" id="nav-4-3">
    
    <label class="md-nav__link" for="nav-4-3">
      API V2
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API V2" data-md-level="2">
      <label class="md-nav__title" for="nav-4-3">
        <span class="md-nav__icon md-icon"></span>
        API V2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/introduction/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/authentication/" class="md-nav__link">
      Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/knora-iris/" class="md-nav__link">
      Knora IRIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/reading-and-searching-resources/" class="md-nav__link">
      Reading and Searching Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/reading-user-permissions/" class="md-nav__link">
      Reading the User's Permissions on Resources and Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/getting-lists/" class="md-nav__link">
      Getting Lists
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/xml-to-standoff-mapping/" class="md-nav__link">
      XML to Standoff Mapping
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/query-language/" class="md-nav__link">
      Gravsearch - Virtual Graph Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/editing-resources/" class="md-nav__link">
      Editing Resources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/editing-values/" class="md-nav__link">
      Editing Values
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/ontology-information/" class="md-nav__link">
      Querying, Creating, and Updating Ontologies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/tei-xml/" class="md-nav__link">
      TEI/XML
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-v2/permalinks/" class="md-nav__link">
      Permalinks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-4" type="checkbox" id="nav-4-4">
    
    <label class="md-nav__link" for="nav-4-4">
      Admin API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Admin API" data-md-level="2">
      <label class="md-nav__title" for="nav-4-4">
        <span class="md-nav__icon md-icon"></span>
        Admin API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/introduction/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/users/" class="md-nav__link">
      Users Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/projects/" class="md-nav__link">
      Projects Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/groups/" class="md-nav__link">
      Groups Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/lists/" class="md-nav__link">
      Lists Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/permissions/" class="md-nav__link">
      Permissions Endpoint
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-admin/stores/" class="md-nav__link">
      Stores Endpoint
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Util API
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Util API" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        <span class="md-nav__icon md-icon"></span>
        Util API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-util/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-util/health/" class="md-nav__link">
      Health
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../03-apis/api-util/version/" class="md-nav__link">
      Version
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Publishing and Deployment
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Publishing and Deployment" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        Publishing and Deployment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../04-publishing-deployment/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../04-publishing-deployment/publishing/" class="md-nav__link">
      Publishing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../04-publishing-deployment/getting-started/" class="md-nav__link">
      Getting Started with Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../04-publishing-deployment/configuration/" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../04-publishing-deployment/updates/" class="md-nav__link">
      Updating Repositories when Upgrading Knora
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Knora Internals
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Knora Internals" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Knora Internals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1" type="checkbox" id="nav-6-1" checked>
    
    <label class="md-nav__link" for="nav-6-1">
      Design
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Design" data-md-level="2">
      <label class="md-nav__title" for="nav-6-1">
        <span class="md-nav__icon md-icon"></span>
        Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1-1" type="checkbox" id="nav-6-1-1" checked>
    
    <label class="md-nav__link" for="nav-6-1-1">
      Knora Design Principles
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Knora Design Principles" data-md-level="3">
      <label class="md-nav__title" for="nav-6-1-1">
        <span class="md-nav__icon md-icon"></span>
        Knora Design Principles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../design-overview/" class="md-nav__link">
      Design Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../futures-with-akka/" class="md-nav__link">
      Futures with Akka
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../http-module/" class="md-nav__link">
      HTTP Module
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Store Module
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Store Module
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle" class="md-nav__link">
    Lifecycle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-based-triplestores" class="md-nav__link">
    HTTP-based Triplestores
  </a>
  
    <nav class="md-nav" aria-label="HTTP-based Triplestores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphdb" class="md-nav__link">
    GraphDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuseki-2" class="md-nav__link">
    Fuseki 2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embedded-triplestores" class="md-nav__link">
    Embedded Triplestores
  </a>
  
    <nav class="md-nav" aria-label="Embedded Triplestores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apache-jena-tdb" class="md-nav__link">
    Apache Jena TDB
  </a>
  
    <nav class="md-nav" aria-label="Apache Jena TDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concurrency" class="md-nav__link">
    Concurrency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdb-disk-persisted-store" class="md-nav__link">
    TDB Disk Persisted Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actor-messages" class="md-nav__link">
    Actor Messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iiif-servers" class="md-nav__link">
    IIIF Servers
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../triplestore-updates/" class="md-nav__link">
      Triplestore Updates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../consistency-checking/" class="md-nav__link">
      Consistency Checking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../authentication/" class="md-nav__link">
      Authentication
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1-2" type="checkbox" id="nav-6-1-2">
    
    <label class="md-nav__link" for="nav-6-1-2">
      API V1 Design
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API V1 Design" data-md-level="3">
      <label class="md-nav__title" for="nav-6-1-2">
        <span class="md-nav__icon md-icon"></span>
        API V1 Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v1/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v1/how-to-add-a-route/" class="md-nav__link">
      How to Add an API v1 Route
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v1/json/" class="md-nav__link">
      JSON in API v1
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1-3" type="checkbox" id="nav-6-1-3">
    
    <label class="md-nav__link" for="nav-6-1-3">
      API V2 Design
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API V2 Design" data-md-level="3">
      <label class="md-nav__title" for="nav-6-1-3">
        <span class="md-nav__icon md-icon"></span>
        API V2 Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/overview/" class="md-nav__link">
      API v2 Design Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/ontology-schemas/" class="md-nav__link">
      Ontology Schemas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/smart-iris/" class="md-nav__link">
      Smart IRIs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/content-wrappers/" class="md-nav__link">
      Content Wrappers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/how-to-add-a-route/" class="md-nav__link">
      How to Add an API v2 Route
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/json-ld/" class="md-nav__link">
      JSON-LD Parsing and Formatting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/ontology-management/" class="md-nav__link">
      Ontology Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/sipi/" class="md-nav__link">
      Knora and Sipi
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/gravsearch/" class="md-nav__link">
      Gravsearch Design
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/standoff/" class="md-nav__link">
      Standoff Markup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/ark/" class="md-nav__link">
      Archival Resource Key (ARK) Identifiers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-v2/query-design/" class="md-nav__link">
      SPARQL Query Design
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-1-4" type="checkbox" id="nav-6-1-4">
    
    <label class="md-nav__link" for="nav-6-1-4">
      Admin API Design
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Admin API Design" data-md-level="3">
      <label class="md-nav__title" for="nav-6-1-4">
        <span class="md-nav__icon md-icon"></span>
        Admin API Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-admin/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api-admin/administration/" class="md-nav__link">
      Administration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6-2" type="checkbox" id="nav-6-2">
    
    <label class="md-nav__link" for="nav-6-2">
      Development
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development" data-md-level="2">
      <label class="md-nav__title" for="nav-6-2">
        <span class="md-nav__icon md-icon"></span>
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/overview/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/building-and-running/" class="md-nav__link">
      Build and Running
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/intellij-config/" class="md-nav__link">
      Setup IntelliJ for development of Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/bazel/" class="md-nav__link">
      Bazel Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/testing/" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/docker-cheat-sheet/" class="md-nav__link">
      Docker Cheat Sheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/monitoring/" class="md-nav__link">
      Monitoring Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/profiling/" class="md-nav__link">
      Profiling Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/docker-compose/" class="md-nav__link">
      Starting the Knora-Stack inside Docker Container
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/updating-repositories/" class="md-nav__link">
      Updating Repositories
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/generating-client-test-data/" class="md-nav__link">
      Generating Client Test Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../development/graphdb/" class="md-nav__link">
      Starting GraphDB
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Salsah
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Salsah" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Salsah
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../06-salsah/" class="md-nav__link">
      Index
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      SIPI
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="SIPI" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        SIPI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../07-sipi/" class="md-nav__link">
      Index
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../07-sipi/setup-sipi-for-knora/" class="md-nav__link">
      Setting Up Sipi for Knora
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../07-sipi/sipi-and-knora/" class="md-nav__link">
      Interaction between Sipi and Knora
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Lucene
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Lucene" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Lucene
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../08-lucene/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../08-lucene/lucene-query-parser-syntax/" class="md-nav__link">
      Lucene Query Parser Syntax
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../../faq/" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Release Notes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon"></span>
        Release Notes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/migration/" class="md-nav__link">
      Migration Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/next/" class="md-nav__link">
      Next Release
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.1.0/" class="md-nav__link">
      v1.1.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.2.0/" class="md-nav__link">
      v1.2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.3.0/" class="md-nav__link">
      v1.3.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.4.0/" class="md-nav__link">
      v1.4.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.5.0/" class="md-nav__link">
      v1.5.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.6.0/" class="md-nav__link">
      v1.6.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v1.7.0/" class="md-nav__link">
      v1.7.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v2.x.x/" class="md-nav__link">
      v2.x.x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v3.x.x/" class="md-nav__link">
      v3.x.x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v4.x.x/" class="md-nav__link">
      v4.x.x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v5.x.x/" class="md-nav__link">
      v5.x.x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../../00-release-notes/v6.x.x/" class="md-nav__link">
      v6.x.x
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle" class="md-nav__link">
    Lifecycle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-based-triplestores" class="md-nav__link">
    HTTP-based Triplestores
  </a>
  
    <nav class="md-nav" aria-label="HTTP-based Triplestores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#graphdb" class="md-nav__link">
    GraphDB
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuseki-2" class="md-nav__link">
    Fuseki 2
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#embedded-triplestores" class="md-nav__link">
    Embedded Triplestores
  </a>
  
    <nav class="md-nav" aria-label="Embedded Triplestores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apache-jena-tdb" class="md-nav__link">
    Apache Jena TDB
  </a>
  
    <nav class="md-nav" aria-label="Apache Jena TDB">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concurrency" class="md-nav__link">
    Concurrency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    Implementation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tdb-disk-persisted-store" class="md-nav__link">
    TDB Disk Persisted Store
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actor-messages" class="md-nav__link">
    Actor Messages
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iiif-servers" class="md-nav__link">
    IIIF Servers
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <!---
Copyright © 2015-2019 the contributors (see Contributors.md).

This file is part of Knora.

Knora is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Knora is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with Knora.  If not, see <http://www.gnu.org/licenses/>.
-->

<h1 id="store-module">Store Module</h1>
<h2 id="overview">Overview</h2>
<p>The store module houses the different types of data stores supported by
Knora. At the moment, only triplestores and IIIF servers (Sipi) are supported.
The triplestore support is implemented in the
<code>org.knora.webapi.store.triplestore</code> package and the IIIF server support in
<code>org.knora.webapi.store.iiif</code> package.</p>
<h2 id="lifecycle">Lifecycle</h2>
<p>At the top level, the store package houses the <code>StoreManager</code>-Actor
which is started when Knora starts. The <code>StoreManager</code> then starts the
<code>TriplestoreManager</code> and <code>IIIFManager</code>, which each in turn starts their
correct actor implementation.</p>
<h2 id="http-based-triplestores">HTTP-based Triplestores</h2>
<p>HTTP-based triplestore support is implemented in the
<code>org.knora.webapi.triplestore.http</code> package.</p>
<p>An HTTP-based triplestore is one that is accessed remotely over the HTTP
protocol. <code>HttpTriplestoreConnector</code> supports the following triplestores:</p>
<ul>
<li>Ontotext GraphDB</li>
<li>Fuseki 2</li>
</ul>
<h3 id="graphdb">GraphDB</h3>
<h3 id="fuseki-2">Fuseki 2</h3>
<h2 id="embedded-triplestores">Embedded Triplestores</h2>
<p>Embedded triplestores are implemented in the
<code>org.knora.webapi.triplestore.embedded</code> package.</p>
<p>An embedded triplestore is one that runs in the same JVM as the Knora
API server.</p>
<h3 id="apache-jena-tdb">Apache Jena TDB</h3>
<p>The support for embedded Jena TDB is currently dropped. The
documentation and the code will remain in the repository. You can use it
at your own risk.</p>
<p>The support for the embedded Jena-TDB triplestore is implemented in
<code>org.knora.webapi.triplestore.embedded.JenaTDBActor</code>.</p>
<p>The relevant Jena libraries that are used are the following:</p>
<ul>
<li>Jena API - The library used to work programmatically with RDF data</li>
<li>Jena TDB - Their implementation of a triple store</li>
</ul>
<h4 id="concurrency">Concurrency</h4>
<p>Jena provides concurrency on different levels.</p>
<p>On the Jena TDB level there is the <code>Dataset</code> object, representing the
triple store. On every access, a transaction (read or write) can be
started.</p>
<p>On the Jena API level there is a <code>Model</code> object, which is equivalent to
an RDF <code>Graph</code>. Here we can lock the model, so that MRSW (Multiple
Reader Single Writer) access is allowed.</p>
<ul>
<li><a href="https://jena.apache.org/documentation/tdb/tdb_transactions.html">https://jena.apache.org/documentation/tdb/tdb_transactions.html</a></li>
<li><a href="https://jena.apache.org/documentation/notes/concurrency-howto.html">https://jena.apache.org/documentation/notes/concurrency-howto.html</a></li>
</ul>
<h4 id="implementation">Implementation</h4>
<p>We employ transactions on the <code>Dataset</code> level. This means that every
thread that accesses the triplestore, starts a read or write enabled
transaction.</p>
<p>The transaction mechanism in TDB is based on write-ahead-logging. All
changes made inside a write-transaction are written to journals, then
propagated to the main database at a suitable moment. This design allows
for read-transactions to proceed without locking or other overhead over
the base database.</p>
<p>Transactional TDB supports one active write transaction, and multiple
read transactions at the same time. Read-transactions started before a
write-transaction commits see the database in a state without any
changes visible. Any transaction starting after a write-transaction
commits sees the database with the changes visible, whether fully
propagates back to the database or not. There can be active read
transactions seeing the state of the database before the updates, and
read transactions seeing the state of the database after the updates
running at the same time.</p>
<h4 id="configuration">Configuration</h4>
<p>In <code>application.conf</code> set to use the embedded triplestore:</p>
<pre><code>    triplestore {
        dbtype = &quot;embedded-jena-tdb&quot;

        embedded-jena-tdb {
            persisted = true // &quot;false&quot; -&gt; memory, &quot;true&quot; -&gt; disk
            loadExistingData = false // &quot;false&quot; -&gt; use data if exists, &quot;false&quot; -&gt; create a fresh store
            storage-path = &quot;_TMP&quot; // ignored if &quot;memory&quot;
        }

        reload-on-start = false // ignored if &quot;memory&quot; as it will always reload

        rdf-data = [
            {
                path = &quot;knora-ontologies/knora-base.ttl&quot;
                name = &quot;http://www.knora.org/ontology/knora-base&quot;
            }
            {
                path = &quot;knora-ontologies/salsah-gui.ttl&quot;
                name = &quot;http://www.knora.org/ontology/salsah-gui&quot;
            }
            {
                path = &quot;test_data/ontologies/incunabula-onto.ttl&quot;
                name = &quot;http://www.knora.org/ontology/0803/incunabula&quot;
            }
            {
                path = &quot;test_data/demo_data/incunabula-demo-data.ttl&quot;
                name = &quot;http://www.knora.org/data/incunabula&quot;
            }
            {
                path = &quot;test_data/ontologies/images-onto.ttl&quot;
                name = &quot;http://www.knora.org/ontology/0804/dokubib&quot;
            }
            {
                path = &quot;test_data/demo_data/images-demo-data.ttl&quot;
                name = &quot;http://www.knora.org/data/dokubib&quot;
            }
        ]
    }
</code></pre>
<p>Here the storage is set to <code>persistent</code>, meaning that a Jena TDB store
will be created under the defined <code>tdb-storage-path</code>. The
<code>reload-on-start</code> flag, if set to <code>true</code> would reload the triplestore
with the data referenced in <code>rdf-data</code>.</p>
<h4 id="tdb-disk-persisted-store">TDB Disk Persisted Store</h4>
<p>Make sure to set <code>reload-on-start</code> to <code>true</code> if run for the first time.
This will create a TDB store and load the data.</p>
<p>If only <em>read access</em> is performed, then Knora can be run once with
reloading enabled. After that, reloading can be turned off, and the
persisted TDB store can be reused, as any data found under the
<code>tdb-storage-path</code> will be reused.</p>
<p>If the TDB storage files get corrupted, then just delete the folder and
reload the data anew.</p>
<h4 id="actor-messages">Actor Messages</h4>
<ul>
<li><code>ResetTripleStoreContent(rdfDataObjects: List[RdfDataObject])</code></li>
<li><code>ResetTripleStoreContentACK()</code></li>
</ul>
<p>The embedded Jena TDB can receive reset messages, and will ACK when
reloading of the data is finished. <code>RdfDataObject</code> is a simple case
class, containing the path and name (the same as <code>rdf-data</code> in the
config file)</p>
<p>As an example, to use it inside a test you could write something like:</p>
<pre><code class="language-scala">    val rdfDataObjects = List (
           RdfDataObject(path = &quot;knora-ontologies/knora-base.ttl&quot;,
                         name = &quot;http://www.knora.org/ontology/knora-base&quot;),
           RdfDataObject(path = &quot;knora-ontologies/salsah-gui.ttl&quot;,
                         name = &quot;http://www.knora.org/ontology/salsah-gui&quot;),
           RdfDataObject(path = &quot;test_data/ontologies/incunabula-onto.ttl&quot;,
                         name = &quot;http://www.knora.org/ontology/0803/incunabula&quot;),
           RdfDataObject(path = &quot;test_data/all_data/incunabula-data.ttl&quot;,
                         name = &quot;http://www.knora.org/data/incunabula&quot;)
    )

    &quot;Reload data &quot; in {
        storeManager ! ResetTripleStoreContent(rdfDataObjects)
        expectMsg(300.seconds, ResetTripleStoreContentACK())
    }
</code></pre>
<h2 id="iiif-servers">IIIF Servers</h2>
<p>Currently, only support for SIPI is implemented in
<code>org.knora.webapi.store.iiifSipiConnector</code>.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../http-module/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                HTTP Module
              </div>
            </div>
          </a>
        
        
          <a href="../triplestore-updates/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Triplestore Updates
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../../assets/javascripts/vendor.7e0ee788.min.js"></script>
      <script src="../../../../assets/javascripts/bundle.b3a72adc.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>